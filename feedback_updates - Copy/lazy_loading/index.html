<html>
<title>Lazy Load Images</title>
<style>
    img{
        width: 100%;
    }
</style>
<body>
    <div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 1</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_1.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 2</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_2.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 3</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_3.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 4</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_4.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 5</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_5.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 1</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_1.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 2</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_2.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 3</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_3.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 4</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_4.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 5</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_5.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 1</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_1.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 2</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_2.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 3</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_3.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 4</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_4.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 5</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_5.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 1</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_1.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 2</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_2.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 3</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_3.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1>Image 4</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_4.jpg" />
            <hr />
        </div>
        <div style="margin:auto">
            <h1 class="lzy_img">Image 5</h1>
            <img class="lzy_img" src="lazy_img.jpg" data-src="img_5.jpg" />
            <hr />
        </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const imageObserver = new IntersectionObserver((entries, imgObserver) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        const lazyImage = entry.target
                        console.log(entry)
                        console.log("lazy loading ", lazyImage)
                        lazyImage.src = lazyImage.dataset.src
                        lazyImage.classList.remove("lzy_img");
                        imgObserver.unobserve(lazyImage);
                    }
                })
            });
            const arr = document.querySelectorAll('img.lzy_img')
            arr.forEach((v) => {
                imageObserver.observe(v);
            })
        })
    </script>
</body>
</html>